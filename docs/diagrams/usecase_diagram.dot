/*
 * Use Case Diagram - Sistem Peminjaman Sarpras
 * Dibuat dengan Graphviz DOT Language
 * 
 * Untuk menghasilkan gambar:
 * dot -Tpng usecase_diagram.dot -o usecase_diagram.png
 * dot -Tsvg usecase_diagram.dot -o usecase_diagram.svg
 */

digraph UseCaseDiagram {
    // ========================================
    // KONFIGURASI GLOBAL
    // ========================================
    graph [
        rankdir=LR
        splines=polyline
        nodesep=0.4
        ranksep=1.5
        fontname="Segoe UI"
        fontsize=12
        bgcolor="#f8fafc"
        pad=0.5
        dpi=150
        label=<<B><FONT POINT-SIZE="22" COLOR="#1e293b">Use Case Diagram</FONT></B><BR/><FONT POINT-SIZE="12" COLOR="#64748b">Sistem Peminjaman Sarana &amp; Prasarana</FONT>>
        labelloc=t
        labeljust=c
    ]
    
    node [
        fontname="Segoe UI"
        fontsize=10
    ]
    
    edge [
        fontname="Segoe UI"
        fontsize=9
        color="#64748b"
        penwidth=1.2
    ]

    // ========================================
    // AKTOR
    // ========================================
    subgraph cluster_aktor_kiri {
        label=""
        style=invis
        margin=0
        
        Mahasiswa [
            label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="0">
                <TR><TD><FONT POINT-SIZE="28">üéì</FONT></TD></TR>
                <TR><TD><B>Mahasiswa</B></TD></TR>
            </TABLE>>
            shape=none
        ]
    }

    subgraph cluster_aktor_kanan {
        label=""
        style=invis
        margin=0
        
        Sarpras [
            label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="0">
                <TR><TD><FONT POINT-SIZE="28">üìã</FONT></TD></TR>
                <TR><TD><B>Sarpras</B></TD></TR>
            </TABLE>>
            shape=none
        ]
        
        Security [
            label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="0">
                <TR><TD><FONT POINT-SIZE="28">üõ°Ô∏è</FONT></TD></TR>
                <TR><TD><B>Security</B></TD></TR>
            </TABLE>>
            shape=none
        ]
    }

    // ========================================
    // SISTEM (USE CASES)
    // ========================================
    subgraph cluster_sistem {
        label=<<B><FONT POINT-SIZE="14" COLOR="#1e40af">Sistem Peminjaman Sarpras</FONT></B>>
        style="rounded,filled"
        fillcolor="#eff6ff"
        color="#3b82f6"
        penwidth=2
        margin=30

        // Use Case style
        node [
            shape=ellipse
            style="filled"
            fillcolor="#ffffff"
            color="#3b82f6"
            penwidth=2
        ]

        // ---- AUTENTIKASI ----
        UC_Login [label="Login"]
        UC_Register [label="Register"]

        // ---- PEMINJAMAN ----
        UC_Ajukan [label="Ajukan\nPeminjaman"]
        UC_LihatStatus [label="Lihat Status\nPeminjaman"]
        UC_UploadSurat [label="Upload Surat\nDigital"]

        // ---- VERIFIKASI ----
        UC_Verifikasi [label="Verifikasi\nPeminjaman"]
        UC_Laporan [label="Lihat Laporan\nPeminjaman"]

        // ---- KEHADIRAN ----
        UC_JadwalAktif [label="Lihat Jadwal\nAktif"]
        UC_CatatKehadiran [label="Catat\nKehadiran"]

        // ---- DATA MASTER ----
        UC_KelolaRuangan [label="Kelola\nRuangan"]
        UC_KelolaBarang [label="Kelola\nBarang"]

        // ---- NOTIFIKASI ----
        UC_Notifikasi [label="Lihat\nNotifikasi"]
    }

    // ========================================
    // RELASI MAHASISWA
    // ========================================
    edge [color="#3b82f6" penwidth=1.5]
    
    Mahasiswa -> UC_Login
    Mahasiswa -> UC_Register
    Mahasiswa -> UC_Ajukan
    Mahasiswa -> UC_LihatStatus
    Mahasiswa -> UC_UploadSurat
    Mahasiswa -> UC_Notifikasi

    // ========================================
    // RELASI SARPRAS
    // ========================================
    edge [color="#22c55e" penwidth=1.5]
    
    UC_Login -> Sarpras [dir=back]
    UC_Verifikasi -> Sarpras [dir=back]
    UC_Laporan -> Sarpras [dir=back]
    UC_KelolaRuangan -> Sarpras [dir=back]
    UC_KelolaBarang -> Sarpras [dir=back]

    // ========================================
    // RELASI SECURITY
    // ========================================
    edge [color="#f59e0b" penwidth=1.5]
    
    UC_Login -> Security [dir=back]
    UC_JadwalAktif -> Security [dir=back]
    UC_CatatKehadiran -> Security [dir=back]

    // ========================================
    // RELASI EXTEND
    // ========================================
    edge [style=dashed color="#94a3b8" penwidth=1 arrowhead=vee]
    
    UC_UploadSurat -> UC_Ajukan [label="  ¬´extend¬ª  " dir=back]

    // ========================================
    // LEGEND
    // ========================================
    subgraph cluster_legend {
        label=<<B><FONT POINT-SIZE="11" COLOR="#475569">üìå KETERANGAN</FONT></B>>
        style="rounded,filled"
        fillcolor="#f1f5f9"
        color="#cbd5e1"
        penwidth=1
        margin=15
        rank=sink
        
        node [shape=plaintext fillcolor="#f1f5f9"]
        
        legend [label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="8">
            <TR>
                <TD BGCOLOR="#3b82f6" WIDTH="30" HEIGHT="3"></TD>
                <TD ALIGN="LEFT"><FONT POINT-SIZE="9">Mahasiswa</FONT></TD>
            </TR>
            <TR>
                <TD BGCOLOR="#22c55e" WIDTH="30" HEIGHT="3"></TD>
                <TD ALIGN="LEFT"><FONT POINT-SIZE="9">Sarpras</FONT></TD>
            </TR>
            <TR>
                <TD BGCOLOR="#f59e0b" WIDTH="30" HEIGHT="3"></TD>
                <TD ALIGN="LEFT"><FONT POINT-SIZE="9">Security</FONT></TD>
            </TR>
        </TABLE>>]
    }
}
